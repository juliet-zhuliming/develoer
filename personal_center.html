<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>UBT Developer</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <!-- <link rel="stylesheet" type="text/css" href="css/common.css">
    <link rel="stylesheet" type="text/css" href="css/personal_center.css"> -->
    <link rel="stylesheet" type="text/css" href="css/index1.css">
    <script type="text/javascript" src="js/jquery-1.10.1.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/jquery.ajaxFileUpload.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
</head>
<body>
<!-- sdk 菜单 -->
    <div class="container">
        <div class="sdk-menu" id="sdksub" style="display: none;">
            <iframe src="sdk_meun.html" marginWidth=0 marginHeight=0 frameBorder=0 width="100%"  scrolling=no  height=120 
                align="center" style="min-width: 1200px;">
            </iframe>
        </div>
    </div>
    <iframe src="header.html" marginWidth=0 marginHeight=0 frameBorder=0 width="100%" scrolling=no 
    height=80 align="center" style="min-width: 1230px;">
    </iframe>
    <div class="container personal-center">
        <div class="tab">        
            <ul id="tab" class="tab_navs">            
                <li lang>user center</li>
            </ul>    
        </div>
        <div class="content container" style="height: auto !important;padding:0px;">
            <div class="col-menu">
                <dl class="menu-primary">
                    <dt data-leaf="1" class="menu-title active" title="myapp" style="border-radius: 10px 0 0 0;">
                        <span class="icon_img icon-app"></span>
                        <span class="icon-menu" lang>app management</span>
                    </dt>
                </dl>
                <dl class="menu-primary">
                    <dt data-leaf="1" class="menu-title " title="mycase">
                        <span class="icon_img icon-case"></span>
                        <span class="icon-menu" lang>case management</span>
                    </dt>
                </dl>
                <dl class="menu-primary">
                    <dt data-leaf="1" class="menu-title " title="myinfo">
                        <span class="icon_img icon-info"></span>
                        <span class="icon-menu" lang>user information</span>
                    </dt>
                </dl>
            </div>
            <div class="col-main">
                <div class="personal-box myapp">
                    <div class="myapp-box">
                            <h3 class="title">
                                <span lang>app management</span>
                                <a class="create-btn"  data-toggle="modal" data-target="#createappModal" lang>+ create an app</a>
                            </h3>
                            <div class="table-title">
                                <span lang>my apps</span>
                            </div>
                            <div class="table-content">
                                <table class="table table-hover" id="table-appcontent"></table>
                            </div>
                    </div>
                </div>
                <div class="personal-box mycase hide">
                    <div class="myinfo-box">
                        <form class="form-horizontal form-box">
                            <h3 class="title" style="padding-bottom: 0px;">
                                <span lang>applying for a showcase may bring you more chances to show your apps, have a try!</span>
                            </h3>
                            <h4 style="margin: 22px 0;">
                                <a class="create-btn" href="apply_showcase.html" target="_self" style="float: left;">
                                    + <span lang>apply for case management</span>
                                </a>
                            </h4>
                            <div class="table-title" style="margin-top: 72px;">
                                <span lang>my applications</span>
                            </div>
                            <table class="table table-hover" id="table-applycase"></table>
                        </form>
                    </div>
                </div>

                <div class="personal-box myinfo hide">
                    <div class="myinfo-box">
                        <form class="form-horizontal form-box  userinfo-box box-unedit">
                            <h3 class="title" style="border-bottom: 1px solid #E5E5E5;">
                                <span lang>my information</span>
                                <a class="edit-btn" lang>edit information</a>
                            </h3>
                            <div class="form-group">
                                <label class="col-xs-2 control-label" lang>Email</label>
                                <div class="col-xs-10">
                                    <label class="control-label" style="text-align: left;padding: 9px 12px;" id="userEmail"></label>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-2 control-label" lang>User name</label>
                                <div class="col-xs-10">
                                    <input class="form-control "  type="text" name="userName" id="userName" readonly="true">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-2 control-label" lang>The type of developer</label>
                                <div class="col-xs-10">
                                    <label class="control-label" style="text-align: left;padding: 9px 12px;" id="developerType"></label>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-2 control-label" lang>Company name</label>
                                <div class="col-xs-10">
                                    <input class="form-control" type="text" name="companyName" id="companyName" readonly="true">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-2 control-label" lang>First name</label>
                                <div class="col-xs-10">
                                    <input class="form-control" type="text" name="firstName" id="firstName" readonly="true">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-2 control-label" lang>Last name</label>
                                <div class="col-xs-10">
                                    <input class="form-control" type="text" name="lastName" id="lastName" readonly="true">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-2 control-label" lang>Country or region</label>
                                <div class="col-xs-10">
                                    <select class="form-control country-select" name="country" id="country"  disabled="true">
                                        <option value='86'>中国 </option>
                                        <option value='852'>中国香港特别行政区 </option>
                                        <option value='376'>安道尔 </option>
                                        <option value='971'>阿拉伯联合酋长国 </option>
                                        <option value='93'>阿富汗 </option>
                                        <option value='1'>安提瓜和巴布达 </option>
                                        <option value='1'>安圭拉 </option>
                                        <option value='355'>阿尔巴尼亚 </option>
                                        <option value='374'>亚美尼亚 </option>
                                        <option value='599'>荷属安的列斯群岛 </option>
                                        <option value='244'>安哥拉 </option>
                                        <option value='672'>南极洲 </option>
                                        <option value='54'>阿根廷 </option>
                                        <option value='1'>美属萨摩亚 </option>
                                        <option value='43'>奥地利 </option>
                                        <option value='61'>澳大利亚 </option>
                                        <option value='297'>阿鲁巴 </option>
                                        <option value='358'>奥兰群岛 </option>
                                        <option value='994'>阿塞拜疆 </option>
                                        <option value='387'>波斯尼亚和黑塞哥维那 </option>
                                        <option value='1'>巴巴多斯 </option>
                                        <option value='880'>孟加拉国 </option>
                                        <option value='32'>比利时 </option>
                                        <option value='226'>布基纳法索 </option>
                                        <option value='359'>保加利亚 </option>
                                        <option value='973'>巴林 </option>
                                        <option value='257'>布隆迪 </option>
                                        <option value='229'>贝宁 </option>
                                        <option value='590'>圣巴泰勒米 </option>
                                        <option value='1'>百慕大 </option>
                                        <option value='673'>文莱 </option>
                                        <option value='591'>玻利维亚 </option>
                                        <option value='55'>巴西 </option>
                                        <option value='1'>巴哈马 </option>
                                        <option value='975'>不丹 </option>
                                        <option value='226'>布维特岛 </option>
                                        <option value='267'>博茨瓦纳 </option>
                                        <option value='375'>白俄罗斯 </option>
                                        <option value='501'>伯利兹 </option>
                                        <option value='1'>加拿大 </option>
                                        <option value='61'>科科斯群岛 </option>
                                        <option value='243'>刚果（金） </option>
                                        <option value='236'>中非共和国 </option>
                                        <option value='242'>刚果（布） </option>
                                        <option value='41'>瑞士 </option>
                                        <option value='225'>象牙海岸 </option>
                                        <option value='682'>库克群岛 </option>
                                        <option value='56'>智利 </option>
                                        <option value='237'>喀麦隆 </option>
                                        <option value='57'>哥伦比亚 </option>
                                        <option value='506'>哥斯达黎加 </option>
                                        <option value='53'>古巴 </option>
                                        <option value='238'>佛得角 </option>
                                        <option value='61'>圣诞岛 </option>
                                        <option value='357'>塞浦路斯 </option>
                                        <option value='420'>捷克共和国 </option>
                                        <option value='49'>德国 </option>
                                        <option value='253'>吉布提 </option>
                                        <option value='45'>丹麦 </option>
                                        <option value='1'>多米尼加 </option>
                                        <option value='1'>多米尼加共和国 </option>
                                        <option value='213'>阿尔及利亚 </option>
                                        <option value='593'>厄瓜多尔 </option>
                                        <option value='372'>爱沙尼亚 </option>
                                        <option value='20'>埃及 </option>
                                        <option value='212'>西撒哈拉 </option>
                                        <option value='291'>厄立特里亚 </option>
                                        <option value='34'>西班牙 </option>
                                        <option value='251'>埃塞俄比亚 </option>
                                        <option value='358'>芬兰 </option>
                                        <option value='679'>斐济 </option>
                                        <option value='500'>福克兰群岛 </option>
                                        <option value='691'>密克罗尼西亚联邦 </option>
                                        <option value='298'>法罗群岛 </option>
                                        <option value='33'>法国 </option>
                                        <option value='241'>加蓬 </option>
                                        <option value='44'>英国 </option>
                                        <option value='1'>格林纳达 </option>
                                        <option value='995'>格鲁吉亚 </option>
                                        <option value='594'>法属圭亚那 </option>
                                        <option value='44'>格恩西岛 </option>
                                        <option value='233'>加纳 </option>
                                        <option value='350'>直布罗陀 </option>
                                        <option value='299'>格陵兰 </option>
                                        <option value='220'>冈比亚 </option>
                                        <option value='224'>几内亚 </option>
                                        <option value='590'>瓜德罗普岛 </option>
                                        <option value='240'>赤道几内亚 </option>
                                        <option value='30'>希腊 </option>
                                        <option value='500'>南乔治亚岛和南桑威齐群岛 </option>
                                        <option value='502'>危地马拉 </option>
                                        <option value='1'>关岛 </option>
                                        <option value='245'>几内亚比绍 </option>
                                        <option value='592'>圭亚那 </option>
                                        <option value='61'>赫德与麦克唐纳群岛 </option>
                                        <option value='504'>洪都拉斯 </option>
                                        <option value='385'>克罗地亚 </option>
                                        <option value='509'>海地 </option>
                                        <option value='36'>匈牙利 </option>
                                        <option value='62'>印度尼西亚 </option>
                                        <option value='353'>爱尔兰 </option>
                                        <option value='972'>以色列 </option>
                                        <option value='44'>曼岛 </option>
                                        <option value='91'>印度 </option>
                                        <option value='246'>英属印度洋领地 </option>
                                        <option value='964'>伊拉克 </option>
                                        <option value='98'>伊朗 </option>
                                        <option value='354'>冰岛 </option>
                                        <option value='39'>意大利 </option>
                                        <option value='44'>泽西岛 </option>
                                        <option value='1'>牙买加 </option>
                                        <option value='962'>约旦 </option>
                                        <option value='81'>日本 </option>
                                        <option value='254'>肯尼亚 </option>
                                        <option value='996'>吉尔吉斯斯坦 </option>
                                        <option value='855'>柬埔寨 </option>
                                        <option value='686'>基里巴斯 </option>
                                        <option value='269'>科摩罗 </option>
                                        <option value='1'>圣基茨和尼维斯 </option>
                                        <option value='850'>朝鲜 </option>
                                        <option value='82'>韩国 </option>
                                        <option value='965'>科威特 </option>
                                        <option value='1'>开曼群岛 </option>
                                        <option value='7'>哈萨克斯坦 </option>
                                        <option value='856'>老挝人民民主共和国 </option>
                                        <option value='961'>黎巴嫩 </option>
                                        <option value='1'>圣卢西亚 </option>
                                        <option value='423'>列支敦士登 </option>
                                        <option value='94'>斯里兰卡 </option>
                                        <option value='231'>利比里亚 </option>
                                        <option value='266'>莱索托 </option>
                                        <option value='370'>立陶宛 </option>
                                        <option value='352'>卢森堡 </option>
                                        <option value='371'>拉脱维亚 </option>
                                        <option value='218'>利比亚 </option>
                                        <option value='212'>摩洛哥 </option>
                                        <option value='377'>摩纳哥 </option>
                                        <option value='373'>摩尔多瓦 </option>
                                        <option value='382'>黑山共和国 </option>
                                        <option value='599'>圣马丁 </option>
                                        <option value='261'>马达加斯加 </option>
                                        <option value='692'>马绍尔群岛 </option>
                                        <option value='389'>马其顿 </option>
                                        <option value='223'>马里 </option>
                                        <option value='95'>缅甸 </option>
                                        <option value='976'>蒙古 </option>
                                        <option value='853'>中国澳门特别行政区 </option>
                                        <option value='1'>北马里亚纳群岛 </option>
                                        <option value='596'>马提尼克群岛 </option>
                                        <option value='222'>毛里塔尼亚 </option>
                                        <option value='1'>蒙塞拉特群岛 </option>
                                        <option value='356'>马耳他 </option>
                                        <option value='230'>毛里求斯 </option>
                                        <option value='960'>马尔代夫 </option>
                                        <option value='265'>马拉维 </option>
                                        <option value='52'>墨西哥 </option>
                                        <option value='60'>马来西亚 </option>
                                        <option value='258'>莫桑比克 </option>
                                        <option value='264'>纳米比亚 </option>
                                        <option value='687'>新喀里多尼亚 </option>
                                        <option value='227'>尼日尔 </option>
                                        <option value='672'>诺福克岛 </option>
                                        <option value='234'>尼日利亚 </option>
                                        <option value='505'>尼加拉瓜 </option>
                                        <option value='31'>荷兰 </option>
                                        <option value='47'>挪威 </option>
                                        <option value='977'>尼泊尔 </option>
                                        <option value='674'>瑙鲁 </option>
                                        <option value='683'>纽埃 </option>
                                        <option value='64'>新西兰 </option>
                                        <option value='968'>阿曼 </option>
                                        <option value='507'>巴拿马 </option>
                                        <option value='51'>秘鲁 </option>
                                        <option value='689'>法属波利尼西亚 </option>
                                        <option value='675'>巴布亚新几内亚 </option>
                                        <option value='63'>菲律宾 </option>
                                        <option value='92'>巴基斯坦 </option>
                                        <option value='48'>波兰 </option>
                                        <option value='508'>圣皮埃尔和密克隆 </option>
                                        <option value='872'>皮特凯恩 </option>
                                        <option value='1'>波多黎各 </option>
                                        <option value='970'>巴勒斯坦领土 </option>
                                        <option value='351'>葡萄牙 </option>
                                        <option value='680'>帕劳 </option>
                                        <option value='595'>巴拉圭 </option>
                                        <option value='974'>卡塔尔 </option>
                                        <option value='262'>留尼汪 </option>
                                        <option value='40'>罗马尼亚 </option>
                                        <option value='381'>塞尔维亚 </option>
                                        <option value='7'>俄罗斯 </option>
                                        <option value='250'>卢旺达 </option>
                                        <option value='966'>沙特阿拉伯 </option>
                                        <option value='677'>所罗门群岛 </option>
                                        <option value='248'>塞舌尔群岛 </option>
                                        <option value='249'>苏丹 </option>
                                        <option value='46'>瑞典 </option>
                                        <option value='65'>新加坡 </option>
                                        <option value='290'>圣赫勒拿 </option>
                                        <option value='386'>斯洛文尼亚 </option>
                                        <option value='47'>斯瓦尔巴特和扬马延 </option>
                                        <option value='421'>斯洛伐克 </option>
                                        <option value='232'>塞拉利昂 </option>
                                        <option value='378'>圣马力诺 </option>
                                        <option value='221'>塞内加尔 </option>
                                        <option value='252'>索马里 </option>
                                        <option value='597'>苏里南 </option>
                                        <option value='239'>圣多美和普林西比 </option>
                                        <option value='503'>萨尔瓦多 </option>
                                        <option value='963'>叙利亚 </option>
                                        <option value='268'>斯威士兰 </option>
                                        <option value='1'>特克斯和凯科斯群岛 </option>
                                        <option value='235'>乍得 </option>
                                        <option value='262'>法属南部领土 </option>
                                        <option value='228'>多哥 </option>
                                        <option value='66'>泰国 </option>
                                        <option value='992'>塔吉克斯坦 </option>
                                        <option value='690'>托克劳 </option>
                                        <option value='670'>东帝汶 </option>
                                        <option value='993'>土库曼斯坦 </option>
                                        <option value='216'>突尼斯 </option>
                                        <option value='676'>汤加 </option>
                                        <option value='90'>土耳其 </option>
                                        <option value='1'>特立尼达和多巴哥 </option>
                                        <option value='688'>图瓦卢 </option>
                                        <option value='886'>台湾 </option>
                                        <option value='255'>坦桑尼亚 </option>
                                        <option value='380'>乌克兰 </option>
                                        <option value='256'>乌干达 </option>
                                        <option value='699'>美国边远小岛 </option>
                                        <option value='1'>美国 </option>
                                        <option value='598'>乌拉圭 </option>
                                        <option value='998'>乌兹别克斯坦 </option>
                                        <option value='39066'>梵蒂冈 </option>
                                        <option value='1'>圣文森特和格林纳丁斯 </option>
                                        <option value='58'>委内瑞拉 </option>
                                        <option value='1'>英属维京群岛 </option>
                                        <option value='1'>美属维京群岛 </option>
                                        <option value='84'>越南 </option>
                                        <option value='678'>瓦努阿图 </option>
                                        <option value='681'>瓦利斯和富图纳 </option>
                                        <option value='685'>萨摩亚 </option>
                                        <option value='967'>也门 </option>
                                        <option value='262'>马约特 </option>
                                        <option value='27'>南非 </option>
                                        <option value='260'>赞比亚 </option>
                                        <option value='263'>津巴布韦 </option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-2 control-label" lang>City</label>
                                <div class="col-xs-10">
                                    <input class="form-control" type="text" name="city" id="city" readonly="true">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-2 control-label" lang>Industry</label>
                                <div class="col-xs-10">
                                    <select class="form-control" name="industry" id="industry"  disabled="true">
                                        <option value="agriculture" lang>Agriculture</option>
                                        <option value="consulting" lang>Consultation</option>
                                        <option value="inspections" lang>Routing inspection</option>
                                        <option value="surveying" lang>Engineering measure</option>
                                        <option value="construction" lang>Construction</option>
                                        <option value="real_estate" lang>Real estate</option>
                                        <option value="search_rescue" lang>Search&Rescue</option>
                                        <option value="education" lang>Education</option>
                                        <option value="mapping" lang>Surveying and mapping</option>
                                        <option value="conservation" lang>Environment protection</option>
                                        <option value="filmmaking" lang>Film making</option>
                                        <option value="security" lang>Bond</option>
                                        <option value="mining" lang>Mining</option>
                                        <option value="other" lang>Others</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-xs-2 control-label" lang>Occupation</label>
                                <div class="col-xs-10">
                                    <select class="form-control" name="occupation" id="occupation" disabled="true">
                                        <option value="government" lang>Civil servant</option>
                                        <option value="analyst" lang>Analyst</option>
                                        <option value="student" lang>Student</option>
                                        <option value="engineer" lang>Engineer</option>
                                        <option value="architect" lang>Architecture</option>
                                        <option value="photographer" lang>Photographer</option>
                                        <option value="professor" lang>Professor</option>
                                        <option value="counselor" lang>Researcher</option>
                                        <option value="athlete" lang>Athlete</option>
                                        <option value="sales" lang>Salesperson</option>
                                        <option value="other" lang>Others</option>
                                    </select>
                                </div>
                            </div>
                        </form>
                        <form class="form-horizontal form-box password-box">
                            <h3 class="title" style="border-bottom: 1px solid #E5E5E5;">
                                <span lang>account password</span>
                                <a class="edit-btn" lang>change password</a>
                            </h3>
                            <div class="form-group hide">
                                <label class="col-xs-2 control-label" lang>old password</label>
                                <div class="col-xs-10">
                                    <input class="form-control "  type="password" name="oldPassword" id="oldPassword">
                                    <small class="code-error hide" lang>incorrect old password</small>
                                </div>
                            </div>
                            <div class="form-group hide">
                                <label class="col-xs-2 control-label" lang>new password</label>
                                <div class="col-xs-10">
                                    <input class="form-control " type="password" name="newPassword" id="newPassword">
                                </div>
                            </div>
                            <div class="form-group hide">
                                <label class="col-xs-2 control-label" lang>confirm new password</label>
                                <div class="col-xs-10">
                                    <input class="form-control "  type="password" name="newPassword1" id="newPassword1">
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

<!-- footer -->
    <iframe src="footer.html" marginWidth=0 marginHeight=0 frameBorder=0 width="100%" scrolling=no height=380 
        style="min-width: 1230px;">
    </iframe>

<!-- 创建应用 -->
<div class="modal bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="createappModal" 
    id="createappModal">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
                <h4 class="modal-title" id="createappModal" lang>create an app</h4>
            </div>
            <div class="modal-body">
                <form class="form-horizontal create-appform">
                    <div class="form-group">
                        <label class="col-xs-2 control-label" lang>choose a sdk</label>
                        <div class="col-xs-9">
                            <select class="form-control" name="sdk-type" id="sdk-type">
                                <option value="1">Mobile-IOS-SDK</option>
                                <option value="2">Mobile-Android-SDK</option>
                                <option value="3">Onboard SDK</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-xs-2 control-label"><small>*</small> <span lang>app name</span></label>
                        <div class="col-xs-9">
                            <input class="form-control" type="text" name="app-name" id="app-name">
                        </div>
                    </div>
                    <div class="form-group sdk">
                        <label class="col-xs-2 control-label" lang>developer platform</label>
                        <div class="col-xs-9">
                            <select class="form-control" name="run-level" id="run-level">
                                <option value="1"> Android</option>
                                <option value="2"> iOS</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group package">
                        <label class="col-xs-2 control-label" ><small>*</small><span lang>package name</span></label>
                        <div class="col-xs-9">
                            <input class="form-control" type="text" name="package-name" id="package-name">
                        </div>
                    </div>
                    <div class="form-group bundle" style="display: none;">
                        <label class="col-xs-2 control-label"><small>*</small><span lang>bundleId</span></label>
                        <div class="col-xs-9">
                            <input class="form-control" type="text" name="bundle-id" id="bundle-id">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-xs-2 control-label" lang>type</label>
                        <div class="col-xs-9">
                            <select class="form-control" name="app-type" id="app-type">
                                <option value="1" lang>family entertainment</option>
                                <option value="2" lang>education</option>
                                <option value="3" lang>commercial performance</option>
                                <option value="4" lang>medical care</option>
                                <option value="5" lang>office assistant</option>
                                <option value="6" lang>others</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group sdk">
                        <label class="col-xs-2 control-label"><small>*</small><span lang>app icon</span></label>
                        <div class="col-xs-9">
                            <div class="divimgPre">
                                <img src="images/personal/button_add.png" class="appimg" id="imgPre"/>
                                <input type="file" name="file" id="file"  />
                            </div>
                            <span class="code-error" id="appIconError" style="display: none" lang>please choose an app icon</span>
                            <span class="code-error imgtype-error" style="display: none" lang>image type（.gif,jpeg,jpg,png）</span>
                            <span class="code-error imgsize-error" style="display: none" lang>please upload image with 90*90 pixels and less than 100k</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-xs-2 control-label"><small>*</small><span lang>description</span></label>
                        <div class="col-xs-9">
                            <textarea class="form-control"  rows="4" name="app-desc" id="app-desc" maxlength="100"></textarea>
                            <small lang>you may enter no more than 100 words at most</small>
                        </div>
                    </div>
                    
                </form>
            </div>
            <div class="modal-footer">
                <div class="text-center">
                    <button type="button" class="btn-cancel" data-dismiss="modal" lang>cancel</button>
                    <button type="button" class="btn-main btn-next" id="submitapp-btn" lang>create</button>
                </div>
            </div>
            
        </div>
    </div>
</div>

<!-- 删除确认 -->
<div class="modal" id="example">
    <div class="modal-dialog" style="margin-top: 10%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title" lang>delete the tips</h4>
            </div>
            <div class="modal-body">
                <p lang>the delete is irrecoverable, are you sure to delete the app?</p>
                <input type="hidden" id="dele_appid"></input>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" lang>cancel</button>
                <button type="button" class="btn btn-primary" id="sure-delete" lang>sure</button>
            </div>
        </div>
    </div>
</div>
<!-- 案例删除确认 -->
<div class="modal" id="caseDeleteModal">
    <div class="modal-dialog" style="margin-top: 10%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title" lang>delete the tips</h4>
            </div>
            <div class="modal-body">
                <p lang>the delete is irrecoverable, are you sure to delete the case?</p>
                <input type="hidden" id="dele_caseid"></input>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" lang>cancel</button>
                <button type="button" class="btn btn-primary" id="caseDelete" lang>sure</button>
            </div>
        </div>
    </div>
</div>
</body>
<script type="text/javascript">
$(function(){
    var obj = new createObj ();
    // 加载应用列表
    loadApp(obj);
    // 加载案例列表
    loadCase(obj);
    loadUserinfo();

    // 用户信息校验
    $('.userinfo-box input').blur(function() {
        if ($(this).val() == "") {
           $(this).addClass('error');
        }else {
           $(this).removeClass('error'); 
        }
    }).keyup(function() {
        $(this).triggerHandler("blur");
    }).focus(function() {
        $(this).triggerHandler("blur");
    }); //end blur

    // 修改密码校验
    $('.password-box input').blur(function() {
        var $parent = $(this).parent();
        $parent.find(".formtips").remove();
        $(".code-error").addClass('hide');
        if ($(this).val() == "") {
           $(this).addClass('error');
        }else {
           $(this).removeClass('error'); 
        }
        //验证新密码
        if ($(this).is('#newPassword')) {
            if (this.value == "" || this.value.length < 6 || this.value.length > 24) {
                var errorMsg = '请输入6~24位密码';
                $parent.append('<span class="formtips onError">' + errorMsg + '</span>');
            }
        }
        if ($(this).is('#newPassword1')) {
            if (this.value != $("#newPassword").val()) {
                var errorMsg = '2次输入的密码不一致';
                $parent.append('<span class="formtips onError">' + errorMsg + '</span>');
            }
        }
    }).keyup(function() {
        $(this).triggerHandler("blur");
    }).focus(function() {
        $(this).triggerHandler("blur");
    }); //end blur

// 创建应用校验
    $('.create-appform input, .create-appform textarea').blur(function() {
        if($(this).val() == ""){
            $(this).addClass('error');
            if($(this).attr('type')=="file"){
            }
        }else{
           $(this).removeClass('error');
           if($(this).attr('type')=="file"){
                $("#appIconError").hide();
            }
        }
    }).keyup(function() {
        $(this).triggerHandler("blur");
    }).focus(function() {
        $(this).triggerHandler("blur");
    }); //end blur

    // 提交应用
    $("#submitapp-btn").click(function(event) {
        $('.create-appform input, .create-appform textarea').each(function(index, el) {
            if($(this).val() == ""){
                $(this).addClass("error");
                if($(this).attr('type')=="file"){
                    $("#appIconError").show();
                }
            }
        });
        var sdkType =  $("#sdk-type").val();
        var run_level = $("#run-level").val();
        if(run_level == "1"){
            $("#bundle-id").removeClass('error');
        }else if(run_level == "2"){
            $("#package-name").removeClass('error');
        }
        if(sdkType == "3"){
            $("#file, #package-name, #bundle-id").removeClass('error');
            $(".sdk , .package, .bundle").hide();
        }
        var eles = $('.create-appform .error');
        if(eles.length > 0){
            return ;
        }else {
            addApp(obj);
        }
    });

    // 选择sdk
    $("#sdk-type").change(function(){
        if($(this).val() == "3"){
            $(".sdk , .package, .bundle").hide();

        }else {
            $(".sdk").show();
        }
    });
    
    // 选择开发平台
    $("#run-level").change(function(){
        if($(this).val() == "1"){
            $(".package").show();
            $(".bundle").hide();
        }else {
            $(".bundle").show();
            $(".package").hide();
        }
    });

    // 预览图标
    $('#file').change(function(){
        console.log($("#file"));
        if(checkImg($('#file').val())){
            var id = $(this).attr('id');
            var url = getFileUrl(id); 
            $('#imgPre').attr('src',url);
            if($(this).val()==""){
                 $("#appIconError").show();
            }else{
                $("#appIconError").hide();
            }
        }else{
            return ;
        }
    });

    // 保存删除app的id
    $("#table-appcontent").on('click','.operationtd >a',function(){
        var appid = $(this).attr("app-id");
        $("#dele_appid").val(appid);
    });
    // 保存删除case的id
    $("#table-applycase").on('click','.operationtd >a',function(){
        var caseid = $(this).attr("case-id");
        $("#dele_caseid").val(caseid);
    });

    // 确认删除app
    $("#sure-delete").click(function(event) {
        var appid = $("#dele_appid").val();
        deleteApp(appid,obj);
    });
  // 确认删除case
    $("#caseDelete").click(function(event) {
        var caseid = $("#dele_caseid").val();
        deleteCase(caseid,obj);
    });

    $('#createappModal').on('show.bs.modal', function (e) {
        resetData();
    });


    
});

// 加载应用
function loadApp(obj){
    $("#table-appcontent").html("");
    var params = {};
    params.appUserId = sessionStorage.getItem("userId");
    $.ajax({
        type: "post",
        url: "/developer/app/findMyApp",
        contentType: "application/json",
        dataType: "json",
        data: JSON.stringify(params),
        success: function(data) {
            if (data.status == true) {
                var datatlist = data.models;
                if(datatlist.length > 0){
                    for (var i = 0; i < datatlist.length; i++) {
                        obj.createApp(i,datatlist[i]);
                    }
                }
               
            }else{
                if(data.info == "-1"){
                    relogin();
                }
            }
        },
        error: function() {
            alert('加载失败，请重试');
        }
    });
}
// 加载申请案例
function loadCase(obj){
    $("#table-applycase").html("");
    var params = {};
    params.appAuthor = sessionStorage.getItem("userId");
    $.ajax({
        type: "post",
        url: "/developer/app/findCase",
        contentType: "application/json",
        dataType: "json",
        data: JSON.stringify(params),
        success: function(data) {
            if (data.status == true) {
                var datatlist = data.models;
                if(datatlist.length > 0){
                    for (var i = 0; i < datatlist.length; i++) {
                        obj.createCase(i,datatlist[i]);
                    }
                }
               
            }else{
                if(data.info == "-1"){
                    relogin();
                }
            }
        },
        error: function() {
            alert('加载失败，请重试');
        }
    });
}
// 创建应用
function addApp(obj){
    var params = {};
    params.sdkType = $("#sdk-type").val();
    params.runLevel = $("#run-level").val();
    params.packageName = $("#package-name").val();
    params.bundleId = $("#bundle-id").val();
    params.appUserId = sessionStorage.getItem('userId');
    params.file = $("#file").val();
    params.appType = $("#app-type").val();
    params.appName = $("#app-name").val();
    params.appDesc = $("#app-desc").val();
    $.ajaxFileUpload({
        url: "/developer/app/add",
        type: "post",
        dataType: "json",
        data: params,
        fileElementId:['file'], 
        success:function(data,status){
            if (data.status == true) {
                $('#createappModal').modal('hide');
                loadApp(obj);
                $("#file").replaceWith('<input type="file" name="file" id="file"/>');
                // 预览图标
               $('#file').change(function(){
                var id = $(this).attr('id');
                var url = getFileUrl(id); 
                $('#imgPre').attr('src',url);
                if($(this).val()==""){
                     $("#appIconError").show();
                }else{
                    $("#appIconError").hide();
                }
            });
            }else{
                if(data.info == "-1"){
                    relogin();
                }
            }
        },
        error: function(data, status, e)  {
            alert('创建失败，请重试');
        }
    });
}

//删除应用
function deleteApp(appid,obj){
    var params = {};
    params.appId = appid;
    $.ajax({
        type: "post",
        url: "/developer/app/delete",
        contentType: "application/json",
        dataType: "json",
        data: JSON.stringify(params),
        success: function(data) {
            if (data.status == true) {
                $('#example').modal('hide');
                loadApp(obj);
            }else{
                if(data.info == "-1"){
                    relogin();
                }
            }
        },
        error: function() {
            alert('删除失败，请重试');
        }
    });
}
// 删除案例
function deleteCase(caseid,obj){
    var params = {};
    params.caseId = caseid;
    $.ajax({
        type: "post",
        url: "/developer/app/deleteCase",
        contentType: "application/json",
        dataType: "json",
        data: JSON.stringify(params),
        success: function(data) {
            if (data.status == true) {
                $('#caseDeleteModal').modal('hide');
                loadCase(obj);
            }else{
                if(data.info == "-1"){
                    relogin();
                }
            }
        },
        error: function() {
            alert('删除失败，请重试');
        }
    });
}

// 获取用户信息
function loadUserinfo(){
    var params = {};
    params.userId = parseInt(sessionStorage.getItem("userId"));
    $.ajax({
        type: "post",
        url: "/developer/user/userinfo",
        contentType: "application/json",
        dataType: "json",
        data: JSON.stringify(params),
        success: function(data) {
            if (data.status == true) {
                console.log(data.models);
                setValue(data.models[0]);
            }else{
                if(data.info == "-1"){
                    relogin();
                }
            }
        },
        error: function() {
            alert('加载失败，请重试');
        }
    });
}

// 修改用户信息
function updateUserinfo(){
    var input = $(".userinfo-box").find('input.error');
    if(input.length >0){
        return ;
    }else {
        var params = {};
        params.userId = parseInt(sessionStorage.getItem("userId"));
        params.userName = $("input[name='userName']").val();
        params.lastName = $("input[name='lastName']").val();
        params.firstName = $("input[name='firstName']").val();
        params.company = $("input[name='companyName']").val();
        params.country = $("#country").val();
        params.city = $("input[name='city']").val();
        params.industry = $("#industry").val();
        params.occupation = $("#occupation").val();
        $.ajax({
            type: "post",
            url: "/developer/user/update",
            contentType: "application/json",
            dataType: "json",
            data: JSON.stringify(params),
            success: function(data) {
                if (data.status == true) {
                    $(".userinfo-box").addClass('box-unedit');
                    $(".userinfo-box .edit-btn").html("编辑信息");
                    $(".userinfo-box input").attr("readonly","true");
                    $(".userinfo-box select").attr("disabled","true");
                    loadUserinfo();
                }else{
                    if(data.info == "-1"){
                        relogin();
                    }
                }
            },
            error: function() {
                alert('更新失败，请重试');
            }
        });
    }
}

// 修改密码
function updatePassword(){
    $(".password-box").find('input').each(function(){
        if($(this).val() == ""){
            $(this).addClass('error');
        }
    });
    var input = $(".password-box").find('input.error');
    var ele = $(".password-box").find('.onError');
    if(ele.length > 0 || input.length >0){
        return ;
    }else {
        var params = {};
        params.userId = sessionStorage.getItem("userId");
        params.userPassword = $("#oldPassword").val();
        params.newUserPassword = $("#newPassword").val();
        $.ajax({
            type: "post",
            url: "/developer/user/updatePassword",
            contentType: "application/json",
            dataType: "json",
            data: JSON.stringify(params),
            success: function(data) {
                if (data.status == true) {
                    alert("密码更新成功");
                    $(".password-box input").each(function() {
                        $(this).val("");
                    });
                    $(".password-box > .form-group").addClass("hide");
                }else{
                    if(data.info == "1008"){
                        $(".code-error").removeClass('hide');
                        $(".password-box > .form-group").removeClass("hide");
                    }
                }
            },
            error: function() {
                alert('更新失败，请重试');
            }
        });
    }
}

// 创建数据列表
function createObj (obj){
    this.obj = obj;
    this.data = {};
    this.createApp = function (i,data){
        if(data!=null){
            this.data = data;
        }
        var status = "";
        var flag = false;
        var disabled = "";
        var target = "#example";
        var color = "";
        if(this.data.appStatus == "1"){
            status = "未审核";
            color ="#707473";
        }else if(this.data.appStatus == "2"){
            status = "审核中";
            flag = true;
            disabled = "disabled";
            target = "";
            color ="#1590e6";
        }else if(this.data.appStatus == "3"){
            status = "审核通过";
            color="green";
        }else if(this.data.appStatus == "4"){
            status = "审核不通过";
            color="red";
        }
        // console.log(this.data);
        var tr ='<tr>'+
                    '<td style="width: 115px">'+
                        '<a href="app_submit.html?appid='+this.data.appId+'" target="_self"><img src="'+this.data.appIcon+'" style="max-width:100%" width="90" height="90"/></a>'+
                    '</td>'+
                    '<td>'+
                        '<a href="app_submit.html?appid='+this.data.appId+'" target="_self"><div class="application-info">'+
                            '<h4>'+this.data.appName+'</h4>'+
                            '<p>秘钥：'+this.data.appKey+'</p>'+
                        '</div></a>'+
                    '</td>'+
                    '<td>'+
                        '<p style="color:'+color+'">'+status+'</p>'+
                    '</td>'+
                    '<td  class="operationtd">'+
                        '<a class="delete-btn '+disabled+'" disabled="'+flag+'" data-target="'+target+'" data-toggle="modal" app-id="'+this.data.appId+'">删除</a>'+
                    '</td>'+
                '</tr>';
        $(tr).appendTo($("#table-appcontent"));
    };

    this.createCase = function(i,data){
        if(data!=null){
            this.data = data;
        }
        var status = "";
        var flag = false;
        var disabled = "";
        var target = "#caseDeleteModal";
        var color = "";
        if(this.data.caseStatus == "1"){
            status = "未审核";
            color ="#707473";
        }else if(this.data.caseStatus == "2"){
            status = "审核中";
            flag = true;
            disabled = "disabled";
            target = "";
            color ="#1590e6";
        }else if(this.data.caseStatus == "3"){
            status = "审核通过";
            color="green";
        }else if(this.data.caseStatus == "4"){
            status = "审核不通过";
            color="red";
        }
        var tr ='<tr>'+
                    '<td style="width: 115px">'+
                        '<a href="apply_showcase.html?caseId='+this.data.caseId+'" target="_self"><img src="'+this.data.appIcon+'" style="max-width:100%" width="90" height="90"/></a>'+
                    '</td>'+
                    '<td>'+
                        '<a href="apply_showcase.html?caseId='+this.data.caseId+'" target="_self"><div class="application-info">'+
                            '<h4>'+this.data.appName+'</h4>'+
                            '<p>描述：'+this.data.appResume+'</p>'+
                        '</div></a>'+
                    '</td>'+
                    '<td>'+
                        '<p style="color:'+color+'">'+status+'</p>'+
                    '</td>'+
                    '<td  class="operationtd">'+
                        '<a class="delete-btn '+disabled+'" disabled="'+flag+'" data-target="'+target+'" data-toggle="modal" case-id="'+this.data.caseId+'">删除</a>'+
                    '</td>'+
                '</tr>';
        $(tr).appendTo($("#table-applycase"));

    };
}

// 重置数据
function resetData(){
    $("#app-name").val("");
    $("#app-type").val(1);
    $("#app-name").val("");
    $("#app-desc").val("");
    $("#appIcon").val("");
    $("#package-name").val("");
    $("#bundle-id").val("");
    $("#appIcon").val("");
    $("#appIcon").val("");
    $("#run-level").val(1);
    $("#sdk-type").val(1);
    $("#file").val("");
    $('#imgPre').attr('src',"images/personal/button_add.png");
    $(".sdk, .package").show();
    $(".bundle").hide();
    $("#appIconError").hide();
    $(".create-appform input, .create-appform textarea").removeClass("error");
}

function setValue(data){
    $("#userEmail").html(sessionStorage.getItem('loginName'));
    $("#userName").val(data.userName);
    if(data.developerType == "1"){
        $("#developerType").html("个人开发者");
        $("#companyName").parent().parent().hide();
    }else {
        $("#developerType").html("企业开发者");
        $("#companyName").val(data.company);
    }
    $("#firstName").val(data.firstName);
    $("#lastName").val(data.lastName);
    $("#country").val(data.country);
    $("#city").val(data.city);
    $("#industry").val(data.industry);
    $("#occupation").val(data.occupation);
}


</script>
</html>